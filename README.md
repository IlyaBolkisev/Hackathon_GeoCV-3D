# Hackathon_GeoCV-3D


##--- Архитектура --- 


Был проведен анализ статей и архитектур, выполняющих задачи восстановления 3д модели объекта на основе стереофотографий. 

В итоге для обучения была воссоздана архитектура, состоящая из трх подсетей: DispNet-B, CorrNet, and RecNet.

Полную информацию о ней можно найти здесь: https://arxiv.org/abs/1910.08223


##--- Генерация данных ---

Для генерации синтетических данных для обучения модели был воссоздан реальный стенд в блендере с двумя камерами. Были учтены расстояния между камерами и до объектов, параметры линзы.

Сначала для каждой сцены задаются параметры поворота по осям для анимации объекта, чтобы сфотографировать объект с разных ракурсов. 

Первая сцена рендерит парные (для правой и левой камеры) карты глубины, вторая сцена рендерит парные фотографии объектов. 

Далее все файлы скриптом собираются в отдельные папки для каждого кадра. Таким образом для одного объекта в можно получить в среднем ~100 семплов для обучения.


##--- Функционал ---

Для работы с конвейером был создан веб-интерфейс на FastApi, в котором можно загрузить левую и правую фотографии объекта. На их основе архитектура воссоздаст 3д-форму объекта, которая отобразится в интерфейсе.

Также на одной из загруженных фотографий пользователь может выбрать две произвольные точки, расстояние между которыми посчитает отдельный алгоритм.


##--- Инструкция ---

### Docker

1. Run docker containers with docker-compose
```bash
docker-compose up
```
2. Open the browser and go to http://localhost/

### Venv
1. Install the required packages
```bash
pip install -r requirements.txt
```
2. Run the app
```bash
python run_locally.py
```
3. Open the browser and go to http://localhost:8000/static/index.html


##--- Участники ---

Илья Болкисев - тимлид, воссоздание и обучение архитектуры, сборка всего конвейера

Матвей Колтунов - разработка алгоритма расчета дистанции между точками

Вячеслав Шишаев - работа с blender, генерация синтетических данных

Никита Быков - MLOps, прогон экспериментов и конвейеров обучения архитектуры

Орхан Казимов - создание веб-интерфейса, разворачивание api

Доска weeek (wee-wee): https://app.weeek.net/ws/647032/project/1/board/1
